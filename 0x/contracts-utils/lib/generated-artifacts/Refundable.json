{
    "schemaVersion": "2.0.0",
    "contractName": "Refundable",
    "compilerOutput": {
        "abi": [],
        "devdoc": {
            "methods": {}
        },
        "evm": {
            "bytecode": {
                "linkReferences": {},
                "object": "0x60806040526000805460ff19169055348015601957600080fd5b50603e8060276000396000f3fe6080604052600080fdfea265627a7a7231582096f3222aac83488f35217a6b9cb08caa2e528f30549d7aecac015fdd8b4f233964736f6c63430005110032",
                "opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x0 DUP1 SLOAD PUSH1 0xFF NOT AND SWAP1 SSTORE CALLVALUE DUP1 ISZERO PUSH1 0x19 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x3E DUP1 PUSH1 0x27 PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x0 DUP1 REVERT INVALID LOG2 PUSH6 0x627A7A723158 KECCAK256 SWAP7 RETURN 0x22 0x2A 0xAC DUP4 0x48 DUP16 CALLDATALOAD 0x21 PUSH27 0x6B9CB08CAA2E528F30549D7AECAC015FDD8B4F233964736F6C6343 STOP SDIV GT STOP ORIGIN ",
                "sourceMap": "639:1375:21:-;;;767:5:20;744:28;;-1:-1:-1;;744:28:20;;;639:1375:21;5:2:-1;;;;30:1;27;20:12;5:2;639:1375:21;;;;;;;"
            },
            "deployedBytecode": {
                "linkReferences": {},
                "object": "0x6080604052600080fdfea265627a7a7231582096f3222aac83488f35217a6b9cb08caa2e528f30549d7aecac015fdd8b4f233964736f6c63430005110032",
                "opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x0 DUP1 REVERT INVALID LOG2 PUSH6 0x627A7A723158 KECCAK256 SWAP7 RETURN 0x22 0x2A 0xAC DUP4 0x48 DUP16 CALLDATALOAD 0x21 PUSH27 0x6B9CB08CAA2E528F30549D7AECAC015FDD8B4F233964736F6C6343 STOP SDIV GT STOP ORIGIN ",
                "sourceMap": "639:1375:21:-;;;;;"
            }
        }
    },
    "sourceTreeHashHex": "0x8f3748d89caf80f34b8f32e5e83e0e35980191341411ee73dd4983ded250958d",
    "sources": {
        "./Refundable.sol": {
            "id": 21,
            "content": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\nimport \"./ReentrancyGuard.sol\";\n\n\ncontract Refundable is\n    ReentrancyGuard\n{\n\n    // This bool is used by the refund modifier to allow for lazily evaluated refunds.\n    bool internal _shouldNotRefund;\n\n    modifier refundFinalBalance {\n        _;\n        _refundNonZeroBalanceIfEnabled();\n    }\n\n    modifier refundFinalBalanceNoReentry {\n        _lockMutexOrThrowIfAlreadyLocked();\n        _;\n        _refundNonZeroBalanceIfEnabled();\n        _unlockMutex();\n    }\n\n    modifier disableRefundUntilEnd {\n        if (_areRefundsDisabled()) {\n            _;\n        } else {\n            _disableRefund();\n            _;\n            _enableAndRefundNonZeroBalance();\n        }\n    }\n\n    function _refundNonZeroBalanceIfEnabled()\n        internal\n    {\n        if (!_areRefundsDisabled()) {\n            _refundNonZeroBalance();\n        }\n    }\n\n    function _refundNonZeroBalance()\n        internal\n    {\n        uint256 balance = address(this).balance;\n        if (balance > 0) {\n            msg.sender.transfer(balance);\n        }\n    }\n\n    function _disableRefund()\n        internal\n    {\n        _shouldNotRefund = true;\n    }\n\n    function _enableAndRefundNonZeroBalance()\n        internal\n    {\n        _shouldNotRefund = false;\n        _refundNonZeroBalance();\n    }\n\n    function _areRefundsDisabled()\n        internal\n        view\n        returns (bool)\n    {\n        return _shouldNotRefund;\n    }\n}\n"
        },
        "./ReentrancyGuard.sol": {
            "id": 20,
            "content": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\nimport \"./LibReentrancyGuardRichErrors.sol\";\nimport \"./LibRichErrors.sol\";\n\n\ncontract ReentrancyGuard {\n\n    // Locked state of mutex.\n    bool private _locked = false;\n\n    /// @dev Functions with this modifer cannot be reentered. The mutex will be locked\n    ///      before function execution and unlocked after.\n    modifier nonReentrant() {\n        _lockMutexOrThrowIfAlreadyLocked();\n        _;\n        _unlockMutex();\n    }\n\n    function _lockMutexOrThrowIfAlreadyLocked()\n        internal\n    {\n        // Ensure mutex is unlocked.\n        if (_locked) {\n            LibRichErrors.rrevert(\n                LibReentrancyGuardRichErrors.IllegalReentrancyError()\n            );\n        }\n        // Lock mutex.\n        _locked = true;\n    }\n\n    function _unlockMutex()\n        internal\n    {\n        // Unlock mutex.\n        _locked = false;\n    }\n}\n"
        },
        "./LibReentrancyGuardRichErrors.sol": {
            "id": 15,
            "content": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\n\nlibrary LibReentrancyGuardRichErrors {\n\n    // bytes4(keccak256(\"IllegalReentrancyError()\"))\n    bytes internal constant ILLEGAL_REENTRANCY_ERROR_SELECTOR_BYTES =\n        hex\"0c3b823f\";\n\n    // solhint-disable func-name-mixedcase\n    function IllegalReentrancyError()\n        internal\n        pure\n        returns (bytes memory)\n    {\n        return ILLEGAL_REENTRANCY_ERROR_SELECTOR_BYTES;\n    }\n}\n"
        },
        "./LibRichErrors.sol": {
            "id": 16,
            "content": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\n\nlibrary LibRichErrors {\n\n    // bytes4(keccak256(\"Error(string)\"))\n    bytes4 internal constant STANDARD_ERROR_SELECTOR =\n        0x08c379a0;\n\n    // solhint-disable func-name-mixedcase\n    /// @dev ABI encode a standard, string revert error payload.\n    ///      This is the same payload that would be included by a `revert(string)`\n    ///      solidity statement. It has the function signature `Error(string)`.\n    /// @param message The error string.\n    /// @return The ABI encoded error.\n    function StandardError(\n        string memory message\n    )\n        internal\n        pure\n        returns (bytes memory)\n    {\n        return abi.encodeWithSelector(\n            STANDARD_ERROR_SELECTOR,\n            bytes(message)\n        );\n    }\n    // solhint-enable func-name-mixedcase\n\n    /// @dev Reverts an encoded rich revert reason `errorData`.\n    /// @param errorData ABI encoded error data.\n    function rrevert(bytes memory errorData)\n        internal\n        pure\n    {\n        assembly {\n            revert(add(errorData, 0x20), mload(errorData))\n        }\n    }\n}\n"
        }
    },
    "sourceCodes": {
        "./Refundable.sol": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\nimport \"./ReentrancyGuard.sol\";\n\n\ncontract Refundable is\n    ReentrancyGuard\n{\n\n    // This bool is used by the refund modifier to allow for lazily evaluated refunds.\n    bool internal _shouldNotRefund;\n\n    modifier refundFinalBalance {\n        _;\n        _refundNonZeroBalanceIfEnabled();\n    }\n\n    modifier refundFinalBalanceNoReentry {\n        _lockMutexOrThrowIfAlreadyLocked();\n        _;\n        _refundNonZeroBalanceIfEnabled();\n        _unlockMutex();\n    }\n\n    modifier disableRefundUntilEnd {\n        if (_areRefundsDisabled()) {\n            _;\n        } else {\n            _disableRefund();\n            _;\n            _enableAndRefundNonZeroBalance();\n        }\n    }\n\n    function _refundNonZeroBalanceIfEnabled()\n        internal\n    {\n        if (!_areRefundsDisabled()) {\n            _refundNonZeroBalance();\n        }\n    }\n\n    function _refundNonZeroBalance()\n        internal\n    {\n        uint256 balance = address(this).balance;\n        if (balance > 0) {\n            msg.sender.transfer(balance);\n        }\n    }\n\n    function _disableRefund()\n        internal\n    {\n        _shouldNotRefund = true;\n    }\n\n    function _enableAndRefundNonZeroBalance()\n        internal\n    {\n        _shouldNotRefund = false;\n        _refundNonZeroBalance();\n    }\n\n    function _areRefundsDisabled()\n        internal\n        view\n        returns (bool)\n    {\n        return _shouldNotRefund;\n    }\n}\n",
        "./ReentrancyGuard.sol": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\nimport \"./LibReentrancyGuardRichErrors.sol\";\nimport \"./LibRichErrors.sol\";\n\n\ncontract ReentrancyGuard {\n\n    // Locked state of mutex.\n    bool private _locked = false;\n\n    /// @dev Functions with this modifer cannot be reentered. The mutex will be locked\n    ///      before function execution and unlocked after.\n    modifier nonReentrant() {\n        _lockMutexOrThrowIfAlreadyLocked();\n        _;\n        _unlockMutex();\n    }\n\n    function _lockMutexOrThrowIfAlreadyLocked()\n        internal\n    {\n        // Ensure mutex is unlocked.\n        if (_locked) {\n            LibRichErrors.rrevert(\n                LibReentrancyGuardRichErrors.IllegalReentrancyError()\n            );\n        }\n        // Lock mutex.\n        _locked = true;\n    }\n\n    function _unlockMutex()\n        internal\n    {\n        // Unlock mutex.\n        _locked = false;\n    }\n}\n",
        "./LibReentrancyGuardRichErrors.sol": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\n\nlibrary LibReentrancyGuardRichErrors {\n\n    // bytes4(keccak256(\"IllegalReentrancyError()\"))\n    bytes internal constant ILLEGAL_REENTRANCY_ERROR_SELECTOR_BYTES =\n        hex\"0c3b823f\";\n\n    // solhint-disable func-name-mixedcase\n    function IllegalReentrancyError()\n        internal\n        pure\n        returns (bytes memory)\n    {\n        return ILLEGAL_REENTRANCY_ERROR_SELECTOR_BYTES;\n    }\n}\n",
        "./LibRichErrors.sol": "/*\n\n  Copyright 2019 ZeroEx Intl.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n\n*/\n\npragma solidity ^0.5.9;\n\n\nlibrary LibRichErrors {\n\n    // bytes4(keccak256(\"Error(string)\"))\n    bytes4 internal constant STANDARD_ERROR_SELECTOR =\n        0x08c379a0;\n\n    // solhint-disable func-name-mixedcase\n    /// @dev ABI encode a standard, string revert error payload.\n    ///      This is the same payload that would be included by a `revert(string)`\n    ///      solidity statement. It has the function signature `Error(string)`.\n    /// @param message The error string.\n    /// @return The ABI encoded error.\n    function StandardError(\n        string memory message\n    )\n        internal\n        pure\n        returns (bytes memory)\n    {\n        return abi.encodeWithSelector(\n            STANDARD_ERROR_SELECTOR,\n            bytes(message)\n        );\n    }\n    // solhint-enable func-name-mixedcase\n\n    /// @dev Reverts an encoded rich revert reason `errorData`.\n    /// @param errorData ABI encoded error data.\n    function rrevert(bytes memory errorData)\n        internal\n        pure\n    {\n        assembly {\n            revert(add(errorData, 0x20), mload(errorData))\n        }\n    }\n}\n"
    },
    "compiler": {
        "name": "solc",
        "version": "0.5.17+commit.d19bba13",
        "settings": {
            "remappings": [],
            "optimizer": {
                "enabled": true,
                "runs": 1000000,
                "details": {
                    "yul": true,
                    "deduplicate": true,
                    "cse": true,
                    "constantOptimizer": true
                }
            },
            "outputSelection": {
                "*": {
                    "*": [
                        "abi",
                        "devdoc",
                        "evm.bytecode.object",
                        "evm.bytecode.sourceMap",
                        "evm.deployedBytecode.object",
                        "evm.deployedBytecode.sourceMap"
                    ]
                }
            },
            "evmVersion": "istanbul"
        }
    },
    "chains": {}
}
